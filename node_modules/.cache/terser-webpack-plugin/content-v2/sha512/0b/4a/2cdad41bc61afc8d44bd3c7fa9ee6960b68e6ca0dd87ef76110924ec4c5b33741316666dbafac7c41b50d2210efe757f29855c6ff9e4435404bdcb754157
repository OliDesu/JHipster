{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{118:function(t,c,e){e.r(c);var i=e(0),s=e(4),r=e(36),n=e(63),a=e(16),h=e(13);class o{constructor(t){this.http=t}getMetrics(){return this.http.get(a.b+\"management/jhimetrics\")}threadDump(){return this.http.get(a.b+\"management/threaddump\")}}o.ɵfac=function(t){return new(t||o)(i.qc(h.b))},o.ɵprov=i.Zb({token:o,factory:o.ɵfac,providedIn:\"root\"});var d=e(3),u=e(20),m=e(2);function g(t,c){if(1&t&&(i.ic(0,\"div\",12),i.Vc(1,\" \"),i.ic(2,\"jhi-jvm-memory\",13),i.Vc(3,\" \"),i.hc(),i.Vc(4,\" \"),i.ic(5,\"jhi-jvm-threads\",14),i.Vc(6,\" \"),i.hc(),i.Vc(7,\" \"),i.ic(8,\"jhi-metrics-system\",15),i.Vc(9,\" \"),i.hc(),i.Vc(10,\" \"),i.hc()),2&t){const t=i.wc();i.Qb(2),i.Dc(\"updating\",t.updatingMetrics)(\"jvmMemoryMetrics\",t.metrics.jvm),i.Qb(3),i.Dc(\"threadData\",t.threads),i.Qb(3),i.Dc(\"updating\",t.updatingMetrics)(\"systemMetrics\",t.metrics.processMetrics)}}function p(t,c){if(1&t&&(i.ic(0,\"div\"),i.Vc(1,\" \"),i.ic(2,\"h3\",16),i.Vc(3,\"Garbage collector statistics\"),i.hc(),i.Vc(4,\" \"),i.ic(5,\"jhi-metrics-garbagecollector\",17),i.Vc(6,\" \"),i.hc(),i.Vc(7,\" \"),i.hc()),2&t){const t=i.wc();i.Qb(5),i.Dc(\"updating\",t.updatingMetrics)(\"garbageCollectorMetrics\",t.metrics.garbageCollector)}}function l(t,c){1&t&&(i.ic(0,\"div\",18),i.Vc(1,\"Updating...\"),i.hc())}function f(t,c){if(1&t&&(i.ic(0,\"jhi-metrics-request\",19),i.Vc(1,\" \"),i.hc()),2&t){const t=i.wc();i.Dc(\"updating\",t.updatingMetrics)(\"requestMetrics\",t.metrics[\"http.server.requests\"])}}function M(t,c){if(1&t&&(i.ic(0,\"jhi-metrics-endpoints-requests\",20),i.Vc(1,\" \"),i.hc()),2&t){const t=i.wc();i.Dc(\"updating\",t.updatingMetrics)(\"endpointsRequestsMetrics\",t.metrics.services)}}function V(t,c){if(1&t&&(i.ic(0,\"jhi-metrics-cache\",21),i.Vc(1,\" \"),i.hc()),2&t){const t=i.wc();i.Dc(\"updating\",t.updatingMetrics)(\"cacheMetrics\",t.metrics.cache)}}function b(t,c){if(1&t&&(i.ic(0,\"jhi-metrics-datasource\",22),i.Vc(1,\" \"),i.hc()),2&t){const t=i.wc();i.Dc(\"updating\",t.updatingMetrics)(\"datasourceMetrics\",t.metrics.databases)}}class j{constructor(t,c){this.metricsService=t,this.changeDetector=c,this.updatingMetrics=!0}ngOnInit(){this.refresh()}refresh(){this.updatingMetrics=!0,this.metricsService.getMetrics().pipe(Object(n.a)(()=>this.metricsService.threadDump(),(t,c)=>{this.metrics=t,this.threads=c.threads,this.updatingMetrics=!1,this.changeDetector.detectChanges()})).subscribe()}metricsKeyExists(t){return this.metrics&&this.metrics[t]}metricsKeyExistsAndObjectNotEmpty(t){return this.metrics&&this.metrics[t]&&\"{}\"!==JSON.stringify(this.metrics[t])}}j.ɵfac=function(t){return new(t||j)(i.dc(o),i.dc(i.j))},j.ɵcmp=i.Xb({type:j,selectors:[[\"jhi-metrics\"]],decls:34,vars:7,consts:[[\"id\",\"metrics-page-heading\",\"jhiTranslate\",\"metrics.title\"],[1,\"btn\",\"btn-primary\",\"float-right\",3,\"click\"],[\"icon\",\"sync\"],[\"jhiTranslate\",\"metrics.refresh.button\"],[\"jhiTranslate\",\"metrics.jvm.title\"],[\"class\",\"row\",4,\"ngIf\"],[4,\"ngIf\"],[\"class\",\"well well-lg\",\"jhiTranslate\",\"metrics.updating\",4,\"ngIf\"],[3,\"updating\",\"requestMetrics\",4,\"ngIf\"],[3,\"updating\",\"endpointsRequestsMetrics\",4,\"ngIf\"],[3,\"updating\",\"cacheMetrics\",4,\"ngIf\"],[3,\"updating\",\"datasourceMetrics\",4,\"ngIf\"],[1,\"row\"],[1,\"col-md-4\",3,\"updating\",\"jvmMemoryMetrics\"],[1,\"col-md-4\",3,\"threadData\"],[1,\"col-md-4\",3,\"updating\",\"systemMetrics\"],[\"jhiTranslate\",\"metrics.jvm.gc.title\"],[3,\"updating\",\"garbageCollectorMetrics\"],[\"jhiTranslate\",\"metrics.updating\",1,\"well\",\"well-lg\"],[3,\"updating\",\"requestMetrics\"],[3,\"updating\",\"endpointsRequestsMetrics\"],[3,\"updating\",\"cacheMetrics\"],[3,\"updating\",\"datasourceMetrics\"]],template:function(t,c){1&t&&(i.ic(0,\"div\"),i.Vc(1,\" \"),i.ic(2,\"h2\"),i.Vc(3,\" \"),i.ic(4,\"span\",0),i.Vc(5,\"Application Metrics\"),i.hc(),i.Vc(6,\" \"),i.ic(7,\"button\",1),i.uc(\"click\",(function(){return c.refresh()})),i.Vc(8,\" \"),i.ec(9,\"fa-icon\",2),i.Vc(10,\" \"),i.ic(11,\"span\",3),i.Vc(12,\"Refresh\"),i.hc(),i.Vc(13,\" \"),i.hc(),i.Vc(14,\" \"),i.hc(),i.Vc(15,\" \"),i.ic(16,\"h3\",4),i.Vc(17,\"JVM Metrics\"),i.hc(),i.Vc(18,\" \"),i.Tc(19,g,11,5,\"div\",5),i.Vc(20,\" \"),i.Tc(21,p,8,2,\"div\",6),i.Vc(22,\" \"),i.Tc(23,l,2,0,\"div\",7),i.Vc(24,\" \"),i.Tc(25,f,2,2,\"jhi-metrics-request\",8),i.Vc(26,\" \"),i.Tc(27,M,2,2,\"jhi-metrics-endpoints-requests\",9),i.Vc(28,\" \"),i.Tc(29,V,2,2,\"jhi-metrics-cache\",10),i.Vc(30,\" \"),i.Tc(31,b,2,2,\"jhi-metrics-datasource\",11),i.Vc(32,\" \"),i.hc(),i.Vc(33,\" \")),2&t&&(i.Qb(19),i.Dc(\"ngIf\",c.metrics&&!c.updatingMetrics),i.Qb(2),i.Dc(\"ngIf\",c.metrics&&c.metricsKeyExists(\"garbageCollector\")),i.Qb(2),i.Dc(\"ngIf\",c.updatingMetrics),i.Qb(2),i.Dc(\"ngIf\",c.metrics&&c.metricsKeyExists(\"http.server.requests\")),i.Qb(2),i.Dc(\"ngIf\",c.metrics&&c.metricsKeyExists(\"services\")),i.Qb(2),i.Dc(\"ngIf\",c.metrics&&c.metricsKeyExists(\"cache\")),i.Qb(2),i.Dc(\"ngIf\",c.metrics&&c.metricsKeyExistsAndObjectNotEmpty(\"databases\")))},directives:[d.n,u.a,m.o,d.r,d.s,d.x,d.y,d.t,d.u,d.v,d.w],encapsulation:2,changeDetection:0});const v={path:\"\",component:j,data:{pageTitle:\"metrics.title\"}};e.d(c,\"MetricsModule\",(function(){return y}));class y{}y.ɵmod=i.bc({type:y}),y.ɵinj=i.ac({factory:function(t){return new(t||y)},imports:[[r.a,s.h.forChild([v])]]}),(\"undefined\"==typeof ngJitMode||ngJitMode)&&i.Pc(y,{declarations:[j],imports:[r.a,s.h]})}}]);","extractedComments":[]}