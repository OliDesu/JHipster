{"file":"/home/ali/exemple-jhipster/testbed/src/main/webapp/app/layouts/main/main.component.ts","mappings":";;;AAAA,wCAA+E;AAC/E,gEAAkD;AAClD,4CAAiG;AACjG,8CAAwE;AAExE,mEAA+D;AAM/D,IAAa,aAAa,GAA1B,MAAa,aAAa;IAGxB,YACU,cAA8B,EAC9B,YAAmB,EACnB,MAAc,EACd,gBAAkC,EAC1C,YAA8B;QAJtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAO;QACnB,WAAM,GAAN,MAAM,CAAQ;QACd,qBAAgB,GAAhB,gBAAgB,CAAkB;QAG1C,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;IACpF,CAAC;IAED,QAAQ;QACN,8BAA8B;QAC9B,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,CAAC;QAE3C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACnC,IAAI,KAAK,YAAY,sBAAa,EAAE;gBAClC,IAAI,CAAC,WAAW,EAAE,CAAC;aACpB;YACD,IAAI,KAAK,YAAY,wBAAe,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;gBAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,eAAgC,EAAE,EAAE;YAChF,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,eAAe,CAAC,IAAI,CAAC,CAAC;QAC3F,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,YAAY,CAAC,aAAqC;QACxD,IAAI,KAAK,GAAW,aAAa,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjH,IAAI,aAAa,CAAC,UAAU,EAAE;YAC5B,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC;SAC9D;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,WAAW;QACjB,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACzE,IAAI,CAAC,SAAS,EAAE;YACd,SAAS,GAAG,cAAc,CAAC;SAC5B;QACD,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;IAC7F,CAAC;CACF,CAAA;AAhDY,aAAa;IAJzB,gBAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,kBAAa,uBAAuB,CAAA;KACrC,CAAC;6CAK0B,gCAAc;QAChB,wBAAK;QACX,eAAM;QACI,uBAAgB;QAC5B,uBAAgB;GARrB,aAAa,CAgDzB;AAhDY,sCAAa","names":[],"sources":["/home/ali/exemple-jhipster/testbed/src/main/webapp/app/layouts/main/main.component.ts"],"sourcesContent":["import { Component, OnInit, RendererFactory2, Renderer2 } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router, ActivatedRouteSnapshot, NavigationEnd, NavigationError } from '@angular/router';\nimport { TranslateService, LangChangeEvent } from '@ngx-translate/core';\n\nimport { AccountService } from 'app/core/auth/account.service';\n\n@Component({\n  selector: 'jhi-main',\n  templateUrl: './main.component.html'\n})\nexport class MainComponent implements OnInit {\n  private renderer: Renderer2;\n\n  constructor(\n    private accountService: AccountService,\n    private titleService: Title,\n    private router: Router,\n    private translateService: TranslateService,\n    rootRenderer: RendererFactory2\n  ) {\n    this.renderer = rootRenderer.createRenderer(document.querySelector('html'), null);\n  }\n\n  ngOnInit(): void {\n    // try to log in automatically\n    this.accountService.identity().subscribe();\n\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.updateTitle();\n      }\n      if (event instanceof NavigationError && event.error.status === 404) {\n        this.router.navigate(['/404']);\n      }\n    });\n\n    this.translateService.onLangChange.subscribe((langChangeEvent: LangChangeEvent) => {\n      this.updateTitle();\n\n      this.renderer.setAttribute(document.querySelector('html'), 'lang', langChangeEvent.lang);\n    });\n  }\n\n  private getPageTitle(routeSnapshot: ActivatedRouteSnapshot): string {\n    let title: string = routeSnapshot.data && routeSnapshot.data['pageTitle'] ? routeSnapshot.data['pageTitle'] : '';\n    if (routeSnapshot.firstChild) {\n      title = this.getPageTitle(routeSnapshot.firstChild) || title;\n    }\n    return title;\n  }\n\n  private updateTitle(): void {\n    let pageTitle = this.getPageTitle(this.router.routerState.snapshot.root);\n    if (!pageTitle) {\n      pageTitle = 'global.title';\n    }\n    this.translateService.get(pageTitle).subscribe(title => this.titleService.setTitle(title));\n  }\n}\n"],"version":3}