{"file":"/home/ali/exemple-jhipster/testbed/src/main/webapp/app/admin/user-management/user-management.component.ts","mappings":"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","names":[],"sources":["/home/ali/exemple-jhipster/testbed/src/main/webapp/app/admin/user-management/user-management.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Subscription } from 'rxjs';\nimport { flatMap } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { JhiEventManager } from 'ng-jhipster';\n\nimport { ITEMS_PER_PAGE } from 'app/shared/constants/pagination.constants';\nimport { AccountService } from 'app/core/auth/account.service';\nimport { Account } from 'app/core/user/account.model';\nimport { UserService } from 'app/core/user/user.service';\nimport { User } from 'app/core/user/user.model';\nimport { UserManagementDeleteDialogComponent } from './user-management-delete-dialog.component';\n\n@Component({\n  selector: 'jhi-user-mgmt',\n  templateUrl: './user-management.component.html'\n})\nexport class UserManagementComponent implements OnInit, OnDestroy {\n  currentAccount: Account | null = null;\n  users: User[] | null = null;\n  userListSubscription?: Subscription;\n  totalItems = 0;\n  itemsPerPage = ITEMS_PER_PAGE;\n  page!: number;\n  predicate!: string;\n  previousPage!: number;\n  ascending!: boolean;\n\n  constructor(\n    private userService: UserService,\n    private accountService: AccountService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private eventManager: JhiEventManager,\n    private modalService: NgbModal\n  ) {}\n\n  ngOnInit(): void {\n    this.activatedRoute.data\n      .pipe(\n        flatMap(\n          () => this.accountService.identity(),\n          (data, account) => {\n            this.page = data.pagingParams.page;\n            this.previousPage = data.pagingParams.page;\n            this.ascending = data.pagingParams.ascending;\n            this.predicate = data.pagingParams.predicate;\n            this.currentAccount = account;\n            this.loadAll();\n            this.userListSubscription = this.eventManager.subscribe('userListModification', () => this.loadAll());\n          }\n        )\n      )\n      .subscribe();\n  }\n\n  ngOnDestroy(): void {\n    if (this.userListSubscription) {\n      this.eventManager.destroy(this.userListSubscription);\n    }\n  }\n\n  setActive(user: User, isActivated: boolean): void {\n    this.userService.update({ ...user, activated: isActivated }).subscribe(() => this.loadAll());\n  }\n\n  trackIdentity(index: number, item: User): any {\n    return item.id;\n  }\n\n  loadPage(page: number): void {\n    if (page !== this.previousPage) {\n      this.previousPage = page;\n      this.transition();\n    }\n  }\n\n  transition(): void {\n    this.router.navigate(['./'], {\n      relativeTo: this.activatedRoute.parent,\n      queryParams: {\n        page: this.page,\n        sort: this.predicate + ',' + (this.ascending ? 'asc' : 'desc')\n      }\n    });\n    this.loadAll();\n  }\n\n  deleteUser(user: User): void {\n    const modalRef = this.modalService.open(UserManagementDeleteDialogComponent, { size: 'lg', backdrop: 'static' });\n    modalRef.componentInstance.user = user;\n  }\n\n  private loadAll(): void {\n    this.userService\n      .query({\n        page: this.page - 1,\n        size: this.itemsPerPage,\n        sort: this.sort()\n      })\n      .subscribe((res: HttpResponse<User[]>) => this.onSuccess(res.body, res.headers));\n  }\n\n  private sort(): string[] {\n    const result = [this.predicate + ',' + (this.ascending ? 'asc' : 'desc')];\n    if (this.predicate !== 'id') {\n      result.push('id');\n    }\n    return result;\n  }\n\n  private onSuccess(users: User[] | null, headers: HttpHeaders): void {\n    this.totalItems = Number(headers.get('X-Total-Count'));\n    this.users = users;\n  }\n}\n"],"version":3}